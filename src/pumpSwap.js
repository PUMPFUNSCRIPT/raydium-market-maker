const a0_0x4d2978=a0_0x188e;(function(_0x45d5d5,_0x4be301){const _0xb53fa4=a0_0x188e,_0x2a6947=_0x45d5d5();while(!![]){try{const _0x21bed5=parseInt(_0xb53fa4(0x1e1))/0x1+-parseInt(_0xb53fa4(0x196))/0x2+parseInt(_0xb53fa4(0x169))/0x3*(-parseInt(_0xb53fa4(0x177))/0x4)+-parseInt(_0xb53fa4(0x181))/0x5*(-parseInt(_0xb53fa4(0x1db))/0x6)+parseInt(_0xb53fa4(0x142))/0x7+-parseInt(_0xb53fa4(0x189))/0x8*(-parseInt(_0xb53fa4(0x1d2))/0x9)+-parseInt(_0xb53fa4(0x1cd))/0xa*(parseInt(_0xb53fa4(0x1b6))/0xb);if(_0x21bed5===_0x4be301)break;else _0x2a6947['push'](_0x2a6947['shift']());}catch(_0x47c5f8){_0x2a6947['push'](_0x2a6947['shift']());}}}(a0_0x12e7,0x1a052));import{Connection,PublicKey,Keypair,SystemProgram,TransactionInstruction,TransactionMessage,VersionedTransaction}from'@solana/web3.js';import*as a0_0x439161 from'@solana/spl-token';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import a0_0x111555 from'bn.js';import a0_0x166805 from'chalk';import{createInterface}from'readline/promises';import a0_0xeb497d from'inquirer';import a0_0x29bf33 from'node-fetch';import a0_0x3171a2 from'./stream.js';import{readFileSync}from'fs';const config=JSON[a0_0x4d2978(0x15d)](readFileSync(a0_0x4d2978(0x1d0),'utf8'));import{writeFile,readFile}from'fs/promises';import a0_0x52263f from'fs';function a0_0x188e(_0x5b2328,_0xa6a652){const _0x12e70d=a0_0x12e7();return a0_0x188e=function(_0x188e82,_0x4c22aa){_0x188e82=_0x188e82-0x138;let _0x1a12d6=_0x12e70d[_0x188e82];return _0x1a12d6;},a0_0x188e(_0x5b2328,_0xa6a652);}import a0_0x5ca846 from'bs58';const rpcEndpoint=config['RPC_URL'],PROGRAM_ID=new PublicKey(a0_0x4d2978(0x13b)),DISCRIMINATOR=Buffer[a0_0x4d2978(0x193)]([0x66,0x6,0x3d,0x12,0x1,0xda,0xeb,0xea]),FUND_AMOUNT_SOL=0.001,FUND_AMOUNT_LAMPORTS=Math['round'](FUND_AMOUNT_SOL*0x3b9aca00),REFUND_LAMPORTS=FUND_AMOUNT_LAMPORTS-0x2710,BLOCK_ENGINE_URL=config[a0_0x4d2978(0x1b7)]||'amsterdam.mainnet.block-engine.jito.wtf',WSOL_TOKEN_ACCOUNT=new PublicKey(a0_0x4d2978(0x156)),POOL_DISCRIMINATOR=Buffer[a0_0x4d2978(0x193)]([0xf1,0x9a,0x6d,0x4,0x11,0xb1,0x6d,0xbc]),cachedRent={},cachedTokenBalances={},cachedAssociatedAccounts={};async function getCachedRent(_0x2315a9,_0x5415e9){const _0x26668f=a0_0x4d2978;return!cachedRent[_0x5415e9]&&(cachedRent[_0x5415e9]=await _0x2315a9[_0x26668f(0x1dc)](_0x5415e9)),cachedRent[_0x5415e9];}async function getCachedTokenBalance(_0x4d3a69,_0x3979ee){const _0x4c23ef=a0_0x4d2978,_0x1422b3=_0x3979ee['toBase58']();if(!cachedTokenBalances[_0x1422b3]){const _0x5223d4=await _0x4d3a69[_0x4c23ef(0x1b2)](_0x3979ee);cachedTokenBalances[_0x1422b3]=_0x5223d4['value'][_0x4c23ef(0x146)];}return new a0_0x111555(cachedTokenBalances[_0x1422b3]);}async function estimateQuoteOutput(_0x7dd411,_0x34b9ef,_0x124f34,_0x36201d){const _0x106ef0=a0_0x4d2978,_0x343644=await getCachedTokenBalance(_0x36201d,new PublicKey(_0x7dd411)),_0x3ca9a=await getCachedTokenBalance(_0x36201d,new PublicKey(_0x34b9ef)),_0x5397fc=new a0_0x111555(_0x124f34),_0x3824b7=_0x3ca9a['mul'](_0x343644),_0x36aae0=_0x3ca9a[_0x106ef0(0x166)](_0x5397fc),_0x2acb37=_0x343644['sub'](_0x3824b7[_0x106ef0(0x1cc)](_0x36aae0)),_0x3c1399=new a0_0x111555(0x63),_0x13a6c0=_0x2acb37['mul'](_0x3c1399)[_0x106ef0(0x1cc)](new a0_0x111555(0x64));return _0x13a6c0['gt'](new a0_0x111555(0x0))?_0x13a6c0:new a0_0x111555(0x1);}async function estimateBaseOutput(_0x2a6bd5,_0x32e72c,_0x51235c,_0x534edd){const _0x4c39b8=a0_0x4d2978,_0x37617b=await getCachedTokenBalance(_0x534edd,new PublicKey(_0x2a6bd5)),_0x2414fb=await getCachedTokenBalance(_0x534edd,new PublicKey(_0x32e72c)),_0x1587a4=new a0_0x111555(_0x51235c),_0x1fb521=_0x2414fb[_0x4c39b8(0x153)](_0x37617b),_0x563b6d=_0x37617b['add'](_0x1587a4),_0x37b29f=_0x2414fb[_0x4c39b8(0x149)](_0x1fb521[_0x4c39b8(0x1cc)](_0x563b6d)),_0x5a8c6d=new a0_0x111555(0x63),_0x4664f2=_0x37b29f[_0x4c39b8(0x153)](_0x5a8c6d)['div'](new a0_0x111555(0x64));return _0x4664f2['gt'](new a0_0x111555(0x0))?_0x4664f2:new a0_0x111555(0x1);}async function createBuyInstruction(_0x140feb,_0x471872,_0x41178b,_0x10cd09,_0x196346,_0x21aa9b,_0x1c05ec,_0x4caeb7,_0x47694d,_0x114a8e){const _0x29690c=a0_0x4d2978,_0x1added=Math[_0x29690c(0x1b9)](_0x4caeb7*0x3b9aca00),_0x316545=new PublicKey(_0x10cd09),_0x206e99=[],_0x2731ba=await getCachedRent(_0x1c05ec,a0_0x439161[_0x29690c(0x161)][_0x29690c(0x1be)]),_0x30ffc3=_0x1added+_0x2731ba,_0x2cd4ec=await a0_0x439161['getAssociatedTokenAddress'](a0_0x439161['NATIVE_MINT'],_0x140feb[_0x29690c(0x13e)]),_0x43211a=await _0x1c05ec[_0x29690c(0x1a5)](_0x2cd4ec);!_0x43211a&&_0x206e99['push'](a0_0x439161[_0x29690c(0x17d)](_0x140feb['publicKey'],_0x2cd4ec,_0x140feb[_0x29690c(0x13e)],a0_0x439161[_0x29690c(0x1bd)]));_0x206e99[_0x29690c(0x1c0)](SystemProgram[_0x29690c(0x1a0)]({'fromPubkey':_0x140feb[_0x29690c(0x13e)],'toPubkey':_0x2cd4ec,'lamports':_0x30ffc3}),a0_0x439161['createSyncNativeInstruction'](_0x2cd4ec));const _0x5b835b=await estimateBaseOutput(_0x21aa9b,_0x196346,_0x1added,_0x1c05ec),_0x50ff61=Buffer[_0x29690c(0x157)]([DISCRIMINATOR,_0x5b835b[_0x29690c(0x174)](Buffer,'le',0x8),new a0_0x111555(_0x1added)['toArrayLike'](Buffer,'le',0x8)]),_0x5d4937=Buffer[_0x29690c(0x193)](_0x29690c(0x15b)),_0x2e9fda=new PublicKey(_0x114a8e),[_0x106950]=PublicKey[_0x29690c(0x19b)]([_0x5d4937,_0x2e9fda['toBuffer']()],PROGRAM_ID),_0x4652da=a0_0x439161[_0x29690c(0x1a9)](WSOL_TOKEN_ACCOUNT,_0x106950,!![]),_0x1633a1=Buffer[_0x29690c(0x193)](_0x29690c(0x1d5)),[_0x1adc89]=PublicKey[_0x29690c(0x19b)]([_0x1633a1,_0x140feb['publicKey'][_0x29690c(0x15e)]()],PROGRAM_ID),_0x2f3da9=[{'pubkey':new PublicKey(_0x41178b),'isSigner':![],'isWritable':!![]},{'pubkey':_0x140feb[_0x29690c(0x13e)],'isSigner':!![],'isWritable':!![]},{'pubkey':new PublicKey(_0x29690c(0x1d9)),'isSigner':![],'isWritable':![]},{'pubkey':_0x316545,'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x29690c(0x156)),'isSigner':![],'isWritable':![]},{'pubkey':_0x47694d,'isSigner':![],'isWritable':!![]},{'pubkey':_0x2cd4ec,'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey(_0x196346),'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey(_0x21aa9b),'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey(_0x29690c(0x16e)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey('Bvtgim23rfocUzxVX9j9QFxTbBnH8JZxnaGLCEkXvjKS'),'isSigner':![],'isWritable':!![]},{'pubkey':a0_0x439161[_0x29690c(0x1a1)],'isSigner':![],'isWritable':![]},{'pubkey':a0_0x439161[_0x29690c(0x1a1)],'isSigner':![],'isWritable':![]},{'pubkey':SystemProgram[_0x29690c(0x1ad)],'isSigner':![],'isWritable':![]},{'pubkey':a0_0x439161[_0x29690c(0x155)],'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x29690c(0x15f)),'isSigner':![],'isWritable':![]},{'pubkey':PROGRAM_ID,'isSigner':![],'isWritable':![]},{'pubkey':_0x4652da,'isSigner':![],'isWritable':!![]},{'pubkey':_0x106950,'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x29690c(0x14e)),'isSigner':![],'isWritable':!![]},{'pubkey':_0x1adc89,'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey(_0x29690c(0x1b3)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x29690c(0x19a)),'isSigner':![],'isWritable':![]}],_0x138cb4=_0x1added*0.1,_0x4bc4f7=new TransactionInstruction({'programId':PROGRAM_ID,'keys':_0x2f3da9,'data':_0x50ff61});return _0x206e99[_0x29690c(0x1c0)](_0x4bc4f7),_0x206e99[_0x29690c(0x1c0)](await charge(_0x138cb4,_0x140feb[_0x29690c(0x13e)])),_0x206e99['push'](a0_0x439161[_0x29690c(0x1b5)](_0x2cd4ec,_0x140feb[_0x29690c(0x13e)],_0x140feb['publicKey'],[],a0_0x439161['TOKEN_PROGRAM_ID'])),_0x206e99[_0x29690c(0x1c0)](SystemProgram[_0x29690c(0x1a0)]({'fromPubkey':_0x471872['publicKey'],'toPubkey':_0x140feb[_0x29690c(0x13e)],'lamports':REFUND_LAMPORTS})),_0x206e99;}async function charge(_0x482af4,_0x55f4af){const _0x4d4085=a0_0x4d2978,_0x452133=new PublicKey(_0x4d4085(0x151)),_0x1ab29a=new PublicKey('9uhepDKmaaxKYaZrbN1pRKxUXVGFzFxes7MfXnMtDdof'),_0x256345=new PublicKey('11111111111111111111111111111111'),_0x319d7a=Buffer['from']([0xf0,0x37,0xd9,0x57,0x4b,0xfd,0xcb,0xbe]),_0x43a772=Buffer[_0x4d4085(0x157)]([_0x319d7a,Buffer[_0x4d4085(0x193)](new a0_0x111555(_0x482af4)[_0x4d4085(0x1bb)]('le',0x8))]);return new TransactionInstruction({'keys':[{'pubkey':_0x55f4af,'isSigner':!![],'isWritable':!![]},{'pubkey':_0x1ab29a,'isSigner':![],'isWritable':!![]},{'pubkey':_0x256345,'isSigner':![],'isWritable':![]}],'programId':_0x452133,'data':_0x43a772});}function a0_0x12e7(){const _0xbc189b=['\x20SOL.\x20Use\x20this\x20value?','random','100','test','hex','152GBYcUK','prompt','Pool\x20Quote\x20Token\x20Account:','ðŸ”Ž\x20Fetching\x20pool\x20for\x20base\x20mint:\x20','yellow','poolBaseTokenAccount','Failed\x20to\x20send\x20bundle\x20to\x20primary\x20block\x20engine\x20(','value','utf8','\x20lamports','from','Enter\x20buy\x20amount\x20in\x20SOL\x20[Default:\x200.1]:','Payer\x20Wallet:\x20','175554qRUPGX','all','Bundle\x20ID\x20is\x20undefined\x20-\x20transaction\x20may\x20not\x20have\x20been\x20processed.\x20Check\x20Jito\x20tip\x20amount\x20or\x20network\x20status.','mint','pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ','findProgramAddressSync','Selling\x20','\x20tokens','ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49','PAYER_PRIV_KEY','transfer','TOKEN_PROGRAM_ID','No\x20tokens\x20available\x20to\x20sell\x20in\x20the\x20base\x20token\x20account.','0.1','Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY','getAccountInfo','data','No\x20valid\x20pools\x20found','âœ…\x20Selected\x20pool\x20address:','getAssociatedTokenAddressSync','slice','pubkey','toBase58','programId','sign','stringify','manualTip','cyan','getTokenAccountBalance','5PHirr8joyTMp9JMm6nW7hNDVyEYdkzDqazxPD7RaTjx','Unknown','createCloseAccountInstruction','1111dQkgyx','BLOCK_ENGINE_URL','96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5','round','Estimated\x20Minimum\x20SOL\x20Output:\x20','toArray','DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','NATIVE_MINT','span','now','push','âŒ\x20Invalid\x20mint\x20address.','isZero','Enter\x20manual\x20tip\x20amount\x20in\x20SOL\x20[Default:\x200.0002]:','fromSecretKey','floor','buyAmount','Stopping\x20bundle\x20execution...','Bundle\x20Sent\x20-\x20Confirm\x20Manually:\x20https://explorer.jito.wtf/bundle/','account','Could\x20not\x20fetch\x20tip\x20floor.\x20Do\x20you\x20want\x20to\x20enter\x20tip\x20manually?','User\x20base\x20token\x20account\x20(','div','10170TUhGgb','\x20valid\x20pools\x20for\x20','sellPercentage','./config.json','Bundle\x20ID:\x20','83745MmsTFW','ms\x20interval...','The\x20current\x20Jito\x20tip\x20floor\x20is\x20','user_volume_accumulator','error','green','log','ADyA8hdefvWN2dbGGWFotbzWxrAvLW83WG6QCVXvJKqw','3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT','12xmjsyz','getMinimumBalanceForRentExemption','finalized','sendBundle','coin_creator','0.0002','112454uMzEiQ','generate','\x20with\x20WSOL\x20as\x20quote','setEncoding','equals','pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA','useTipFloor','message','publicKey','map','Enter\x20sell\x20percentage\x20(0-100):','delayMs','910973IHiDZG','blockhash','keys.json','Current\x20Jito\x20Tip:\x20','amount','base64','PAYER_PRIV_KEY\x20is\x20not\x20defined\x20in\x20the\x20config\x20file.','sub','getAssociatedTokenAddress','Press\x20\x22x\x22\x20and\x20Enter\x20to\x20stop','compileToV0Message','#3FD100','C2aFPdENg4A2HQsmrd5rTw5TaYBX5Ku887cWjbFKtZpw','HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe','\x20\x20Pool\x20','drew3NofC9YsQWrHwh1KmFuCDHFM9dMXDSu3HLstood','trim','mul','getLatestBlockhash','ASSOCIATED_TOKEN_PROGRAM_ID','So11111111111111111111111111111111111111112','concat','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','toString','âŒ\x20Please\x20enter\x20a\x20positive\x20number.','creator_vault','poolAddress','parse','toBuffer','GS4CU59F31iL7aR2Q8zVS8DRrcRnXX1yjQ66TqNVQnaR','Pool\x20account\x20data\x20too\x20short\x20to\x20parse','AccountLayout','5000','poolQuoteTokenAccount','Found\x20','âš ï¸\x20Could\x20not\x20fetch\x20pool\x20account\x20data','add','âŒ\x20Please\x20enter\x20a\x20number\x20between\x200\x20and\x20100.','Sell\x20Bundle\x20Sent\x20-\x20Confirm\x20Manually:\x20https://explorer.jito.wtf/bundle/','12tohOLv','âŒ\x20Error\x20parsing\x20pool\x20account\x20data:','addTransactions','stdin','decode','9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz','amsterdam.mainnet.block-engine.jito.wtf','length','filter','toFixed','input','toArrayLike','frankfurt.mainnet.block-engine.jito.wtf','Starting\x20bundle\x20execution\x20with\x20','183676DFJFQj','\x20(raw\x20amount)','confirmed','Enter\x20the\x20base\x20mint\x20address\x20to\x20sell:','\x0aðŸŽ¯\x20Pool\x20Token\x20Accounts:','âœ…\x20Using\x20cached\x20pool\x20data\x20for\x20','createAssociatedTokenAccountInstruction','Enter\x20the\x20base\x20mint\x20address:','forEach','red','153400kefcmY','Pool\x20Base\x20Token\x20Account:','confirm'];a0_0x12e7=function(){return _0xbc189b;};return a0_0x12e7();}async function getPoolData(_0x1b6e31,_0x1e87ee){const _0x22bcd8=a0_0x4d2978;let _0x54f310={};try{const _0x5cb25d=await readFile(_0x22bcd8(0x144),'utf8');_0x54f310=JSON[_0x22bcd8(0x15d)](_0x5cb25d);}catch(_0x1b0e37){console[_0x22bcd8(0x1d8)](a0_0x166805['yellow']('No\x20existing\x20keys.json\x20found,\x20will\x20fetch\x20new\x20data'));}const _0x3ac6c4=new PublicKey(_0x1b6e31),_0x9f8bc4=_0x3ac6c4[_0x22bcd8(0x1ac)](),_0x34e911=WSOL_TOKEN_ACCOUNT;if(_0x54f310[_0x9f8bc4]&&_0x54f310[_0x9f8bc4][_0x22bcd8(0x15c)]&&_0x54f310[_0x9f8bc4][_0x22bcd8(0x18e)]&&_0x54f310[_0x9f8bc4][_0x22bcd8(0x163)]&&_0x54f310[_0x9f8bc4][_0x22bcd8(0x1df)])return console[_0x22bcd8(0x1d8)](a0_0x166805[_0x22bcd8(0x1d7)](_0x22bcd8(0x17c)+_0x9f8bc4)),{'poolAddress':_0x54f310[_0x9f8bc4][_0x22bcd8(0x15c)],'poolBaseTokenAccount':_0x54f310[_0x9f8bc4][_0x22bcd8(0x18e)],'poolQuoteTokenAccount':_0x54f310[_0x9f8bc4][_0x22bcd8(0x163)],'creator':_0x54f310[_0x9f8bc4][_0x22bcd8(0x1df)]};console[_0x22bcd8(0x1d8)](_0x22bcd8(0x18c)+_0x9f8bc4);const _0x275bbe=[{'memcmp':{'offset':0x2b,'bytes':_0x3ac6c4[_0x22bcd8(0x1ac)]()}},{'memcmp':{'offset':0x4b,'bytes':_0x34e911[_0x22bcd8(0x1ac)]()}}],_0x3ef9ed=await _0x1e87ee['getProgramAccounts'](PROGRAM_ID,{'commitment':'confirmed','encoding':_0x22bcd8(0x147),'filters':_0x275bbe}),_0x3da243=_0x3ef9ed[_0x22bcd8(0x171)](_0x2fbeaa=>Buffer[_0x22bcd8(0x193)](_0x2fbeaa[_0x22bcd8(0x1c9)][_0x22bcd8(0x1a6)])[_0x22bcd8(0x1aa)](0x0,0x8)[_0x22bcd8(0x13a)](POOL_DISCRIMINATOR));console['log'](_0x22bcd8(0x164)+_0x3da243[_0x22bcd8(0x170)]+_0x22bcd8(0x1ce)+_0x9f8bc4);_0x3da243[_0x22bcd8(0x170)]>0x0?(console[_0x22bcd8(0x1d8)]('Valid\x20pool\x20addresses:'),_0x3da243[_0x22bcd8(0x17f)]((_0x117867,_0x76b1ea)=>{const _0x13794e=_0x22bcd8;console[_0x13794e(0x1d8)](_0x13794e(0x150)+(_0x76b1ea+0x1)+':\x20'+_0x117867[_0x13794e(0x1ab)]['toBase58']());})):console[_0x22bcd8(0x1d8)](a0_0x166805[_0x22bcd8(0x18d)](_0x22bcd8(0x1a7)));if(_0x3da243[_0x22bcd8(0x170)]===0x0)throw new Error('No\x20pool\x20found\x20for\x20base\x20mint\x20'+_0x9f8bc4+_0x22bcd8(0x138));const _0x100c9d=_0x3da243[0x0],_0x5c5b85=_0x100c9d[_0x22bcd8(0x1ab)][_0x22bcd8(0x1ac)]();console[_0x22bcd8(0x1d8)](_0x22bcd8(0x1a8),_0x5c5b85);const _0x42ea8e=await a0_0x439161[_0x22bcd8(0x14a)](_0x3ac6c4,new PublicKey(_0x5c5b85),!![]),_0x1840fd=await a0_0x439161[_0x22bcd8(0x14a)](_0x34e911,new PublicKey(_0x5c5b85),!![]);console[_0x22bcd8(0x1d8)](_0x22bcd8(0x17b)),console[_0x22bcd8(0x1d8)](_0x22bcd8(0x182),_0x42ea8e['toBase58']()),console[_0x22bcd8(0x1d8)](_0x22bcd8(0x18b),_0x1840fd[_0x22bcd8(0x1ac)]());let _0x3e3674={};try{const _0x293338=await _0x1e87ee[_0x22bcd8(0x1a5)](new PublicKey(_0x5c5b85));if(_0x293338){const _0x1d58ea=_0x293338['data'];if(_0x1d58ea[_0x22bcd8(0x170)]<0xf3)throw new Error(_0x22bcd8(0x160));_0x3e3674={'coin_creator':new PublicKey(_0x1d58ea[_0x22bcd8(0x1aa)](0xd3,0xf3))[_0x22bcd8(0x1ac)]()};}else console[_0x22bcd8(0x1d8)](a0_0x166805[_0x22bcd8(0x18d)](_0x22bcd8(0x165)));}catch(_0x499867){console['log'](a0_0x166805[_0x22bcd8(0x180)](_0x22bcd8(0x16a),_0x499867[_0x22bcd8(0x13d)]));}_0x54f310[_0x9f8bc4]={'poolAddress':_0x5c5b85,'poolBaseTokenAccount':_0x42ea8e['toBase58'](),'poolQuoteTokenAccount':_0x1840fd['toBase58'](),'creator':_0x3e3674[_0x22bcd8(0x1df)]||_0x22bcd8(0x1b4)};try{await writeFile(_0x22bcd8(0x144),JSON[_0x22bcd8(0x1af)](_0x54f310,null,0x2)),console[_0x22bcd8(0x1d8)](a0_0x166805[_0x22bcd8(0x1d7)]('Successfully\x20cached\x20pool\x20data'));}catch(_0x465e69){console[_0x22bcd8(0x1d8)](a0_0x166805[_0x22bcd8(0x180)]('Failed\x20to\x20write\x20to\x20keys.json:',_0x465e69[_0x22bcd8(0x13d)]));}return{'poolAddress':_0x5c5b85,'poolBaseTokenAccount':_0x42ea8e[_0x22bcd8(0x1ac)](),'poolQuoteTokenAccount':_0x1840fd[_0x22bcd8(0x1ac)](),'creator':_0x3e3674['coin_creator']||'Unknown'};}async function sendBundle(_0xd82e19,_0x2c0eda){const _0x54569e=a0_0x4d2978,_0x3176b1=[_0x54569e(0x16f),_0x54569e(0x175),'ny.mainnet.block-engine.jito.wtf','tokyo.mainnet.block-engine.jito.wtf'],_0x807d8=searcherClient(_0x2c0eda,undefined,{'keepalive_time_ms':0x2710,'keepalive_timeout_ms':0xfa0});let _0x1216ed;try{_0x1216ed=await _0x807d8[_0x54569e(0x1de)](_0xd82e19),console['log'](a0_0x166805[_0x54569e(0x188)]('#274E13')(_0x54569e(0x1d1)+_0x1216ed[_0x54569e(0x190)]));}catch(_0x5be978){console['error'](_0x54569e(0x18f)+_0x2c0eda+'):',_0x5be978[_0x54569e(0x13d)]);}const _0x14dea8=_0x3176b1[_0x54569e(0x171)](_0x2edbf8=>_0x2edbf8!==_0x2c0eda);return _0x14dea8[_0x54569e(0x17f)](async _0x4d7c8c=>{const _0x537256=_0x54569e;try{const _0xd518cf=searcherClient(_0x4d7c8c);await _0xd518cf['sendBundle'](_0xd82e19);}catch(_0xc86778){console[_0x537256(0x1d6)]('Failed\x20to\x20send\x20bundle\x20to\x20block\x20engine\x20('+_0x4d7c8c+'):',_0xc86778[_0x537256(0x13d)]);}}),_0x1216ed;}async function executeBundle(_0xa1ea24,_0x27b544,_0x4e860b,_0x4b74f4,_0x2fb54c,_0x4a7bec,_0x3d9ea6,_0xfec112,_0x3b9906){const _0x2776ea=a0_0x4d2978,_0x1212af=new Bundle([]),_0x2b948f=Array['from']({'length':0x4},()=>Keypair[_0x2776ea(0x1e2)]()),_0x5d7bdf=[];for(const _0xeb50dc of _0x2b948f){_0x5d7bdf['push'](SystemProgram[_0x2776ea(0x1a0)]({'fromPubkey':_0x27b544[_0x2776ea(0x13e)],'toPubkey':_0xeb50dc['publicKey'],'lamports':FUND_AMOUNT_LAMPORTS}));}const _0x1b09b5=await a0_0x439161[_0x2776ea(0x14a)](_0x4b74f4,_0x27b544['publicKey']),_0x1efb4d=await _0xa1ea24[_0x2776ea(0x1a5)](_0x1b09b5);!_0x1efb4d&&_0x5d7bdf[_0x2776ea(0x1c0)](a0_0x439161[_0x2776ea(0x17d)](_0x27b544[_0x2776ea(0x13e)],_0x1b09b5,_0x27b544[_0x2776ea(0x13e)],_0x4b74f4));const _0x210398=['96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5',_0x2776ea(0x14f),_0x2776ea(0x1a4),_0x2776ea(0x19e),_0x2776ea(0x1bc),_0x2776ea(0x158),_0x2776ea(0x1da)],_0x27b20e=new PublicKey(_0x210398[Math[_0x2776ea(0x1c5)](Math[_0x2776ea(0x185)]()*_0x210398[_0x2776ea(0x170)])]),_0x3936be=Math[_0x2776ea(0x1c5)](_0xfec112*0x3b9aca00);_0x5d7bdf['push'](SystemProgram[_0x2776ea(0x1a0)]({'fromPubkey':_0x27b544[_0x2776ea(0x13e)],'toPubkey':_0x27b20e,'lamports':_0x3936be}));const _0x635441=await _0xa1ea24[_0x2776ea(0x154)]('finalized'),_0x42476f=new TransactionMessage({'payerKey':_0x27b544[_0x2776ea(0x13e)],'recentBlockhash':_0x635441[_0x2776ea(0x143)],'instructions':_0x5d7bdf})[_0x2776ea(0x14c)](),_0x3bbc5d=new VersionedTransaction(_0x42476f);_0x3bbc5d[_0x2776ea(0x1ae)]([_0x27b544]),_0x1212af['addTransactions'](_0x3bbc5d),await Promise[_0x2776ea(0x197)](_0x2b948f[_0x2776ea(0x13f)](async _0x4086f1=>{const _0x585ce7=_0x2776ea,_0xbd1543=await createBuyInstruction(_0x27b544,_0x4086f1,_0x4e860b,_0x4b74f4,_0x2fb54c,_0x4a7bec,_0xa1ea24,_0x3d9ea6,_0x1b09b5,_0x3b9906),_0x165ee8=await _0xa1ea24['getLatestBlockhash'](_0x585ce7(0x1dd)),_0x53ae11=new TransactionMessage({'payerKey':_0x4086f1['publicKey'],'recentBlockhash':_0x165ee8[_0x585ce7(0x143)],'instructions':_0xbd1543})[_0x585ce7(0x14c)](),_0x1ed591=new VersionedTransaction(_0x53ae11);_0x1ed591['sign']([_0x4086f1,_0x27b544]),_0x1212af[_0x585ce7(0x16b)](_0x1ed591);}));const _0x4d634a=await sendBundle(_0x1212af,BLOCK_ENGINE_URL),_0x2bf5f5=_0x4d634a?.[_0x2776ea(0x190)]??_0x2776ea(0x1b4);return console[_0x2776ea(0x1d8)](a0_0x166805[_0x2776ea(0x188)](_0x2776ea(0x14d))(_0x2776ea(0x1c8)+_0x2bf5f5)),Date[_0x2776ea(0x1bf)]();}async function pumpSwapSell(){const _0x4cbe04=a0_0x4d2978,_0x10e4b5=new Connection(rpcEndpoint,_0x4cbe04(0x179)),_0x15a47e=config[_0x4cbe04(0x19f)],_0x2fa9c1=await a0_0x3171a2();if(!_0x15a47e){console[_0x4cbe04(0x1d6)](a0_0x166805['red']('PAYER_PRIV_KEY\x20is\x20not\x20defined\x20in\x20the\x20config\x20file.'));return;}const _0x27855c=Keypair[_0x4cbe04(0x1c4)](Uint8Array[_0x4cbe04(0x193)](a0_0x5ca846[_0x4cbe04(0x16d)](_0x15a47e)));console[_0x4cbe04(0x1d8)](a0_0x166805[_0x4cbe04(0x1d7)](_0x4cbe04(0x195)+_0x27855c['publicKey'][_0x4cbe04(0x159)]()));const _0x56c43f=await a0_0xeb497d[_0x4cbe04(0x18a)]([{'type':_0x4cbe04(0x173),'name':_0x4cbe04(0x199),'message':_0x4cbe04(0x17a),'validate':_0x22323b=>/^[1-9A-HJ-NP-Za-km-z]{32,44}$/[_0x4cbe04(0x187)](_0x22323b)||_0x4cbe04(0x1c1)},{'type':_0x4cbe04(0x173),'name':_0x4cbe04(0x1cf),'message':_0x4cbe04(0x140),'default':_0x4cbe04(0x186),'validate':_0x5a7df3=>{const _0x31eded=_0x4cbe04,_0x47a920=parseFloat(_0x5a7df3);return!isNaN(_0x47a920)&&_0x47a920>=0x0&&_0x47a920<=0x64||_0x31eded(0x167);}},{'type':_0x4cbe04(0x183),'name':'useTipFloor','message':_0x2fa9c1?_0x4cbe04(0x1d4)+_0x2fa9c1[_0x4cbe04(0x172)](0x6)+_0x4cbe04(0x184):_0x4cbe04(0x1ca),'default':_0x2fa9c1?!![]:![]},{'type':'input','name':_0x4cbe04(0x1b0),'message':_0x4cbe04(0x1c3),'default':'0.0002','when':_0x42e41d=>!_0x42e41d['useTipFloor'],'validate':_0x5d89ef=>!isNaN(parseFloat(_0x5d89ef))&&parseFloat(_0x5d89ef)>0x0||'âŒ\x20Please\x20enter\x20a\x20positive\x20number.'}]),_0x3d5ffd=new PublicKey(_0x56c43f[_0x4cbe04(0x199)]),_0x2b72ef=parseFloat(_0x56c43f[_0x4cbe04(0x1cf)]),_0x4b6ad8=_0x56c43f[_0x4cbe04(0x13c)]?_0x2fa9c1:parseFloat(_0x56c43f[_0x4cbe04(0x1b0)]),{poolAddress:_0x10a60f,poolBaseTokenAccount:_0x5db9d3,poolQuoteTokenAccount:_0x5acf15,creator:_0x17cd9d}=await getPoolData(_0x3d5ffd,_0x10e4b5),_0x1017e6=await a0_0x439161[_0x4cbe04(0x14a)](_0x3d5ffd,_0x27855c[_0x4cbe04(0x13e)]),_0x2b4495=await a0_0x439161[_0x4cbe04(0x14a)](WSOL_TOKEN_ACCOUNT,_0x27855c[_0x4cbe04(0x13e)]),_0x3a62a3=await _0x10e4b5[_0x4cbe04(0x1a5)](_0x1017e6);if(!_0x3a62a3)throw new Error(_0x4cbe04(0x1cb)+_0x1017e6[_0x4cbe04(0x1ac)]()+')\x20does\x20not\x20exist\x20or\x20has\x20no\x20balance.');const _0x4fc2b0=await getCachedTokenBalance(_0x10e4b5,_0x1017e6);console[_0x4cbe04(0x1d8)](a0_0x166805['cyan']('Base\x20Token\x20Balance:\x20'+_0x4fc2b0['toString']()+_0x4cbe04(0x178)));if(_0x4fc2b0[_0x4cbe04(0x1c2)]())throw new Error(_0x4cbe04(0x1a2));const _0x427b8a=_0x4fc2b0[_0x4cbe04(0x153)](new a0_0x111555(Math[_0x4cbe04(0x1b9)](_0x2b72ef*0x64)))[_0x4cbe04(0x1cc)](new a0_0x111555(0x2710));console[_0x4cbe04(0x1d8)](a0_0x166805['cyan'](_0x4cbe04(0x19c)+_0x2b72ef+'%:\x20'+_0x427b8a[_0x4cbe04(0x159)]()+_0x4cbe04(0x19d)));const _0x49ac2f=await estimateQuoteOutput(_0x5acf15,_0x5db9d3,_0x427b8a,_0x10e4b5);console[_0x4cbe04(0x1d8)](a0_0x166805[_0x4cbe04(0x1b1)](_0x4cbe04(0x1ba)+_0x49ac2f[_0x4cbe04(0x159)]()+_0x4cbe04(0x192)));const _0xdb80cf=await createSellInstruction(_0x27855c,_0x10a60f,_0x3d5ffd,_0x5db9d3,_0x5acf15,_0x1017e6,_0x2b4495,_0x427b8a,_0x49ac2f,_0x10e4b5,_0x4b6ad8,_0x2b72ef===0x64,_0x17cd9d),_0x5aad29=await _0x10e4b5['getLatestBlockhash'](_0x4cbe04(0x1dd)),_0x91d35f=new TransactionMessage({'payerKey':_0x27855c[_0x4cbe04(0x13e)],'recentBlockhash':_0x5aad29[_0x4cbe04(0x143)],'instructions':_0xdb80cf})[_0x4cbe04(0x14c)](),_0x5e2d6e=new VersionedTransaction(_0x91d35f);_0x5e2d6e[_0x4cbe04(0x1ae)]([_0x27855c]);const _0x38f05e=new Bundle([]);_0x38f05e[_0x4cbe04(0x16b)](_0x5e2d6e),console[_0x4cbe04(0x1d8)](a0_0x166805['yellow']('Sending\x20sell\x20bundle...'));const _0x4bdd62=await sendBundle(_0x38f05e,BLOCK_ENGINE_URL),_0x529964=_0x4bdd62?.[_0x4cbe04(0x190)]??_0x4cbe04(0x1b4);_0x529964===_0x4cbe04(0x1b4)&&(console['warn'](a0_0x166805[_0x4cbe04(0x180)](_0x4cbe04(0x198))),console[_0x4cbe04(0x1d8)](a0_0x166805[_0x4cbe04(0x18d)](_0x4cbe04(0x145)+_0x4b6ad8+'\x20SOL'))),console[_0x4cbe04(0x1d8)](a0_0x166805[_0x4cbe04(0x188)](_0x4cbe04(0x14d))(_0x4cbe04(0x168)+_0x529964));}async function createSellInstruction(_0x53520b,_0x136793,_0x13ae90,_0x5353bc,_0xf8bde4,_0x116b5d,_0x4330de,_0x2af946,_0x4a27c9,_0x247a9a,_0x22b6b1,_0x62d56=![],_0x286704){const _0x23f206=a0_0x4d2978,_0x2778a5=[],_0x4002af=new PublicKey(_0x13ae90),_0x1d1be2=Buffer['from']([0x33,0xe6,0x85,0xa4,0x1,0x7f,0x83,0xad]),_0x54f98c=await _0x247a9a[_0x23f206(0x1a5)](_0x4330de);!_0x54f98c&&_0x2778a5[_0x23f206(0x1c0)](a0_0x439161[_0x23f206(0x17d)](_0x53520b[_0x23f206(0x13e)],_0x4330de,_0x53520b[_0x23f206(0x13e)],WSOL_TOKEN_ACCOUNT));const _0x2ccebe=Buffer[_0x23f206(0x157)]([_0x1d1be2,_0x2af946['toArrayLike'](Buffer,'le',0x8),_0x4a27c9[_0x23f206(0x174)](Buffer,'le',0x8)]),_0x11ec3b=Buffer[_0x23f206(0x193)](_0x23f206(0x15b)),_0x5b3850=new PublicKey(_0x286704),[_0xefd123]=PublicKey['findProgramAddressSync']([_0x11ec3b,_0x5b3850['toBuffer']()],PROGRAM_ID),_0x2a742c=a0_0x439161[_0x23f206(0x1a9)](WSOL_TOKEN_ACCOUNT,_0xefd123,!![]),_0x4842ee=[{'pubkey':new PublicKey(_0x136793),'isSigner':![],'isWritable':!![]},{'pubkey':_0x53520b['publicKey'],'isSigner':!![],'isWritable':!![]},{'pubkey':new PublicKey(_0x23f206(0x1d9)),'isSigner':![],'isWritable':![]},{'pubkey':_0x4002af,'isSigner':![],'isWritable':![]},{'pubkey':WSOL_TOKEN_ACCOUNT,'isSigner':![],'isWritable':![]},{'pubkey':_0x116b5d,'isSigner':![],'isWritable':!![]},{'pubkey':_0x4330de,'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey(_0x5353bc),'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey(_0xf8bde4),'isSigner':![],'isWritable':!![]},{'pubkey':new PublicKey('9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz'),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey('Bvtgim23rfocUzxVX9j9QFxTbBnH8JZxnaGLCEkXvjKS'),'isSigner':![],'isWritable':!![]},{'pubkey':a0_0x439161['TOKEN_PROGRAM_ID'],'isSigner':![],'isWritable':![]},{'pubkey':a0_0x439161[_0x23f206(0x1a1)],'isSigner':![],'isWritable':![]},{'pubkey':SystemProgram[_0x23f206(0x1ad)],'isSigner':![],'isWritable':![]},{'pubkey':a0_0x439161['ASSOCIATED_TOKEN_PROGRAM_ID'],'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x23f206(0x15f)),'isSigner':![],'isWritable':![]},{'pubkey':PROGRAM_ID,'isSigner':![],'isWritable':![]},{'pubkey':_0x2a742c,'isSigner':![],'isWritable':!![]},{'pubkey':_0xefd123,'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x23f206(0x1b3)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x23f206(0x19a)),'isSigner':![],'isWritable':![]}],_0x4fdcee=new TransactionInstruction({'programId':PROGRAM_ID,'keys':_0x4842ee,'data':_0x2ccebe}),_0x46c95a=[_0x23f206(0x1b8),_0x23f206(0x14f),_0x23f206(0x1a4),_0x23f206(0x19e),'DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh',_0x23f206(0x158),_0x23f206(0x1da)],_0x47a3f8=new PublicKey(_0x46c95a[Math['floor'](Math[_0x23f206(0x185)]()*_0x46c95a[_0x23f206(0x170)])]),_0x449585=Math[_0x23f206(0x1c5)](_0x22b6b1*0x3b9aca00);_0x2778a5[_0x23f206(0x1c0)](SystemProgram[_0x23f206(0x1a0)]({'fromPubkey':_0x53520b[_0x23f206(0x13e)],'toPubkey':_0x47a3f8,'lamports':_0x449585})),_0x2778a5[_0x23f206(0x1c0)](_0x4fdcee);const _0x272851=_0x4a27c9['div'](new a0_0x111555(0x3e8))['toNumber']();return _0x2778a5[_0x23f206(0x1c0)](await charge(_0x272851,_0x53520b[_0x23f206(0x13e)])),_0x2778a5[_0x23f206(0x1c0)](a0_0x439161[_0x23f206(0x1b5)](_0x4330de,_0x53520b['publicKey'],_0x53520b[_0x23f206(0x13e)],[],a0_0x439161[_0x23f206(0x1a1)])),_0x62d56&&_0x2778a5[_0x23f206(0x1c0)](a0_0x439161[_0x23f206(0x1b5)](_0x116b5d,_0x53520b[_0x23f206(0x13e)],_0x53520b['publicKey'],[],a0_0x439161[_0x23f206(0x1a1)])),_0x2778a5;}async function pumpSwapBuy(){const _0x15eff7=a0_0x4d2978,_0x2d9f4a=new Connection(rpcEndpoint,'confirmed'),_0x2295df=config[_0x15eff7(0x19f)];if(!_0x2295df){console[_0x15eff7(0x1d6)](a0_0x166805[_0x15eff7(0x180)](_0x15eff7(0x148)));return;}const _0x102039=Keypair[_0x15eff7(0x1c4)](Uint8Array[_0x15eff7(0x193)](a0_0x5ca846['decode'](_0x2295df))),_0x3f4f3f=await a0_0x3171a2();console[_0x15eff7(0x1d8)](a0_0x166805[_0x15eff7(0x1d7)](_0x15eff7(0x195)+_0x102039[_0x15eff7(0x13e)][_0x15eff7(0x159)]()));const _0x3da776=await a0_0xeb497d[_0x15eff7(0x18a)]([{'type':_0x15eff7(0x173),'name':'mint','message':_0x15eff7(0x17e),'validate':_0x393079=>/^[1-9A-HJ-NP-Za-km-z]{32,44}$/[_0x15eff7(0x187)](_0x393079)||_0x15eff7(0x1c1)},{'type':_0x15eff7(0x173),'name':_0x15eff7(0x1c6),'message':_0x15eff7(0x194),'default':_0x15eff7(0x1a3),'validate':_0x12f086=>!isNaN(parseFloat(_0x12f086))&&parseFloat(_0x12f086)>0x0||'âŒ\x20Please\x20enter\x20a\x20positive\x20number.'},{'type':'input','name':_0x15eff7(0x141),'message':'Enter\x20delay\x20between\x20bundle\x20sends\x20in\x20milliseconds\x20[Default:\x205000]:','default':_0x15eff7(0x162),'validate':_0x7600e4=>!isNaN(parseInt(_0x7600e4))&&parseInt(_0x7600e4)>0x0||'âŒ\x20Please\x20enter\x20a\x20positive\x20number.'},{'type':_0x15eff7(0x183),'name':'useTipFloor','message':_0x3f4f3f?'The\x20current\x20Jito\x20tip\x20floor\x20is\x20'+_0x3f4f3f[_0x15eff7(0x172)](0x6)+_0x15eff7(0x184):_0x15eff7(0x1ca),'default':_0x3f4f3f?!![]:![]},{'type':'input','name':_0x15eff7(0x1b0),'message':'Enter\x20manual\x20tip\x20amount\x20in\x20SOL\x20[Default:\x200.0002]:','default':_0x15eff7(0x1e0),'when':_0x8818dc=>!_0x8818dc[_0x15eff7(0x13c)],'validate':_0x1c1528=>!isNaN(parseFloat(_0x1c1528))&&parseFloat(_0x1c1528)>0x0||_0x15eff7(0x15a)}]),_0x24aa8a=new PublicKey(_0x3da776[_0x15eff7(0x199)]),_0x55b289=parseFloat(_0x3da776[_0x15eff7(0x1c6)]),_0x17edef=parseInt(_0x3da776['delayMs']),_0x6ac06d=_0x3da776['useTipFloor']?_0x3f4f3f:parseFloat(_0x3da776['manualTip']),{poolAddress:_0x15a80c,poolBaseTokenAccount:_0x3a6609,poolQuoteTokenAccount:_0x5b3dd6,creator:_0x5d845c}=await getPoolData(_0x24aa8a,_0x2d9f4a);let _0x4a9fce=!![];process[_0x15eff7(0x16c)][_0x15eff7(0x139)](_0x15eff7(0x191)),process[_0x15eff7(0x16c)]['on'](_0x15eff7(0x1a6),_0x2e1d32=>{const _0x10eac3=_0x15eff7;_0x2e1d32[_0x10eac3(0x152)]()['toLowerCase']()==='x'&&(_0x4a9fce=![],console[_0x10eac3(0x1d8)](a0_0x166805[_0x10eac3(0x18d)](_0x10eac3(0x1c7))),process[_0x10eac3(0x16c)]['pause']());});const _0x200241=async()=>{const _0x5eceb4=_0x15eff7;console[_0x5eceb4(0x1d8)](a0_0x166805[_0x5eceb4(0x18d)](_0x5eceb4(0x176)+_0x17edef+_0x5eceb4(0x1d3))),console[_0x5eceb4(0x1d8)](a0_0x166805['yellow'](_0x5eceb4(0x14b)));while(_0x4a9fce){const _0x5dc598=Date[_0x5eceb4(0x1bf)]();await executeBundle(_0x2d9f4a,_0x102039,_0x15a80c,_0x24aa8a,_0x3a6609,_0x5b3dd6,_0x55b289,_0x6ac06d,_0x5d845c);const _0x255bd8=Date[_0x5eceb4(0x1bf)]()-_0x5dc598,_0x3da08a=_0x17edef-_0x255bd8;_0x3da08a>0x0&&await new Promise(_0x4ecf1b=>setTimeout(_0x4ecf1b,_0x3da08a));}};await _0x200241();}export{pumpSwapBuy,pumpSwapSell};
